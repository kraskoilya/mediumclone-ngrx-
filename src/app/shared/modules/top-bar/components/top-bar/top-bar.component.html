<nav class="navbar navbar-light">
  <div class="container">
    <a class="navbar-brand"
       [routerLink]="['/']"
       routerLinkActive="router-link-active">
      Medium
    </a>

    <ul class="nav navbar-nav pull-xs-right">
      <li class="nav-item">
        <a class="nav-link"
           [routerLink]="['/']"
           routerLinkActive="router-link-active">Home</a>
      </li>

      <ng-container *ngIf="(isLoggedIn$ | async)">
        <li class="nav-item">
          <a class="nav-link"
             [routerLink]="['/articles/new']"
             routerLinkActive="router-link-active">
            <i class="ion-compose"></i>
            &nbsp; New Post
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link"
             [routerLink]="['/settings']"
             routerLinkActive="router-link-active">
            <i class="ion-gear-a"></i>
            &nbsp; Settings
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link"
             [routerLink]="['/profiles', (currentUser$ | async).username]"
             routerLinkActive="router-link-active">
            <img *ngIf="(currentUser$ | async).image"
                 [src]="(currentUser$ | async).image"
                 [alt]="(currentUser$ | async).username">
            &nbsp; {{(currentUser$ | async).username}}
          </a>
        </li>
      </ng-container>

      <ng-container *ngIf="(isAnonymous$ | async)">
        <li class="nav-item">
          <a class="nav-link"
             [routerLink]="['/login']"
             routerLinkActive="router-link-active">
            &nbsp; Log in
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link"
             [routerLink]="['/register']"
             routerLinkActive="router-link-active">
            &nbsp; Log up
          </a>
        </li>

      </ng-container>

    </ul>

  </div>
</nav>
